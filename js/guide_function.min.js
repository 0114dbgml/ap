$(function(){function t(t){$.each(t,function(t,e){a[t]=e.split(".")[0]})}function e(t){var e=t.children("td"),o=e.eq(6).text().toLowerCase();e.has("s").length?t.addClass("cancel"):(o=o?o+"-":o,t.addClass(o+"category"))}function o(t){if(t.hasClass("cancel")||t.hasClass("category")||t.hasClass("link-category"))t.append("<td></td>");else for(var e=0;e<a.length;e++){if(t.children("td:last-child").text()==a[e]){t.addClass("done").append('<td class="center"><a href="../html/'+a[e]+'.html" class="list-link" target="blank"> DONE </a></td>'),n[e]=!0;break}e==a.length-1&&t.append('<td class="center">X</td>')}}function l(){for(var t=0;t<n.length;t++)1!=n[t]&&i.push(a[t]);console.log(i)}function s(){d.each(function(){var t=$(this).attr("class");"cancel"==t?r[0]++:"category"==t?r[1]++:(r[2]++,t.toLowerCase().indexOf("html")>=0?r[3]++:t.toLowerCase().indexOf("develop")>=0?r[4]++:t.toLowerCase().indexOf("board")>=0?r[5]++:t.toLowerCase().indexOf("link")>=0&&r[6]++,t.toLowerCase().indexOf("done")>=0&&(r[7]++,t.toLowerCase().indexOf("html")>=0?r[8]++:t.toLowerCase().indexOf("develop")>=0?r[9]++:t.toLowerCase().indexOf("board")>=0&&r[10]++))}),$(".all-work").text(r[2]),$(".done-work").text(r[7]),$(".html-all-work").text(r[3]),$(".html-done-work").text(r[8]),$(".board-all-work").text(r[4]),$(".board-done-work").text(r[9]),$(".develop-all-work").text(r[5]),$(".develop-done-work").text(r[10]),$(".progress-bar").css({width:Math.floor(r[7]/r[2]*100)+"%"}).html('<div class="progress-percent">'+Math.floor(r[7]/r[2]*100)+"%</div>")}var a=[],n=[],i=[],d=$(".file-list tbody tr"),r=new Array(11).fill(0);$.getJSON("file_list.json",function(e){t(e)}).done(function(){d.each(function(){e($(this)),o($(this))}),l(),s()}),$("body").on("click",".js-show-all",function(){$(".btn-type-small").removeClass("on");var t=$(this).attr("class").split(" ")[4];$(this).addClass("on"),$(".file-list tbody tr").addClass("hide"),void 0==t?$(".file-list tbody tr").removeClass("hide"):$(".file-list tbody tr."+t+"-category").removeClass("hide")}),$("body").on("click",".js-show-done",function(){$(".btn-type-small").removeClass("on");var t=$(this).attr("class").split(" ")[4];$(this).addClass("on"),$(".file-list tbody tr").addClass("hide"),void 0==t?$(".file-list tbody tr.done").removeClass("hide"):$(".file-list tbody tr."+t+"-category.done").removeClass("hide")}),$("body").on("click",".file-list tr",function(t){$(this).find(".list-link").length?window.open($(this).find(".list-link").attr("href")):$(this).find(".cancel").length?alert("제작이 취소된 페이지 입니다"):alert("준비 중 입니다.")})});